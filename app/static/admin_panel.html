<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>ERPNext → WooCommerce Admin Panel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/static/admin_panel.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script defer src="/static/admin_panel.js"></script>
</head>

<body>
    <div id="overlay" class="hidden">
        <div class="spinner"></div>
        <div class="message"></div> <!-- ← Added so JS can inject overlay messages -->
    </div>
    <div class="container">
        <header>
            <h1>ERPNext &rarr; WooCommerce Admin Panel</h1>
            <div class="button-bar">
                <button id="sync-btn">Full Synchronise</button>
                <button id="save-mapping-btn" disabled>Save Mapping File</button>
                <button id="apply-stock-btn" disabled>Update Stock</button>
            </div>
        </header>
        <div id="alert-area"></div>
        <!-- Sync Preview Table -->
        <section class="card">
            <div class="card-header">
                <h2>Sync Preview</h2>
                <button id="preview-refresh">Refresh</button>
            </div>
            <div class="table-wrap">
                <table id="sync-preview-table">
                    <thead>
                        <tr>
                            <th>ERP Item</th>
                            <th>WC SKU</th>
                            <th>Action</th>
                            <th>Fields to Update</th>
                            <th>Images Changed?</th>
                        </tr>
                    </thead>
                    <tbody id="sync-preview-tbody">
                        <tr>
                            <td colspan="5" class="centered">Loading preview...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
        <!-- Mapping Table -->
        <section class="card">
            <div class="card-header">
                <h2>Product Mapping</h2>
            </div>
            <div class="table-wrap">
                <table id="mapping-table">
                    <thead>
                        <tr>
                            <th>ERP Item Code</th>
                            <th>WC SKU</th>
                            <th>WC Product ID</th>
                            <th>Status</th>
                            <th>Last Synced</th>
                        </tr>
                    </thead>
                    <tbody id="mapping-tbody">
                        <tr>
                            <td colspan="5" class="centered">Loading mapping...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
        <!-- Stock Adjustment Table -->
        <section class="card">
            <div class="card-header">
                <h2>Stock Adjustment</h2>
            </div>
            <div class="table-wrap">
                <table id="stock-table">
                    <thead>
                        <tr>
                            <th>ERP Item Code</th>
                            <th>Warehouse</th>
                            <th>Qty</th>
                        </tr>
                    </thead>
                    <tbody id="stock-tbody">
                        <tr>
                            <td colspan="3" class="centered">Loading stock adjustments...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </div>
</body>

</html>